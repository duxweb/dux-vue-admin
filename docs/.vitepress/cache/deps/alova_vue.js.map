{
  "version": 3,
  "sources": ["../../../../node_modules/alova/dist/stateshook/vue.esm.js"],
  "sourcesContent": ["/**\n  * @alova/client 2.0.0 (https://alova.js.org)\n  * Document https://alova.js.org\n  * Copyright 2024 Scott hu. All Rights Reserved\n  * Licensed under MIT (https://github.com/alovajs/alova/blob/main/LICENSE)\n*/\n\nimport { createSyncOnceRunner } from '@alova/shared/function';\nimport { setTimeoutFn, forEach, trueValue } from '@alova/shared/vars';\nimport { ref, getCurrentInstance, onUnmounted, onMounted, watch, computed } from 'vue';\n\n// Vue的预定义hooks\nvar vue = {\n    name: 'Vue',\n    create: data => ref(data),\n    dehydrate: state => state.value,\n    update: (newVal, state) => {\n        state.value = newVal;\n    },\n    effectRequest({ handler, removeStates, immediate, watchingStates }) {\n        // 当在组件内部使用时，组件卸载时移除对应状态\n        if (getCurrentInstance()) {\n            onUnmounted(removeStates);\n            onMounted(() => immediate && handler());\n        }\n        else {\n            // 在非组件内部使用时，使用定时器延迟执行\n            setTimeoutFn(() => {\n                immediate && handler();\n            });\n        }\n        const syncRunner = createSyncOnceRunner();\n        forEach(watchingStates || [], (state, i) => {\n            watch(state, () => {\n                syncRunner(() => {\n                    handler(i);\n                });\n            }, { deep: trueValue });\n        });\n    },\n    computed: getter => computed(getter),\n    watch: (states, callback) => {\n        watch(states, callback, {\n            deep: trueValue\n        });\n    },\n    onMounted: callback => {\n        if (getCurrentInstance()) {\n            onMounted(callback);\n        }\n        else {\n            setTimeoutFn(callback, 10);\n        }\n    },\n    onUnmounted: callback => {\n        getCurrentInstance() && onUnmounted(callback);\n    }\n};\n\nexport { vue as default };\n"],
  "mappings": ";;;;;;;;;;;;;;;;;AAYA,IAAI,MAAM;AAAA,EACN,MAAM;AAAA,EACN,QAAQ,UAAQ,IAAI,IAAI;AAAA,EACxB,WAAW,WAAS,MAAM;AAAA,EAC1B,QAAQ,CAAC,QAAQ,UAAU;AACvB,UAAM,QAAQ;AAAA,EAClB;AAAA,EACA,cAAc,EAAE,SAAS,cAAc,WAAW,eAAe,GAAG;AAEhE,QAAI,mBAAmB,GAAG;AACtB,kBAAY,YAAY;AACxB,gBAAU,MAAM,aAAa,QAAQ,CAAC;AAAA,IAC1C,OACK;AAED,mBAAa,MAAM;AACf,qBAAa,QAAQ;AAAA,MACzB,CAAC;AAAA,IACL;AACA,UAAM,aAAa,qBAAqB;AACxC,YAAQ,kBAAkB,CAAC,GAAG,CAAC,OAAO,MAAM;AACxC,YAAM,OAAO,MAAM;AACf,mBAAW,MAAM;AACb,kBAAQ,CAAC;AAAA,QACb,CAAC;AAAA,MACL,GAAG,EAAE,MAAM,UAAU,CAAC;AAAA,IAC1B,CAAC;AAAA,EACL;AAAA,EACA,UAAU,YAAU,SAAS,MAAM;AAAA,EACnC,OAAO,CAAC,QAAQ,aAAa;AACzB,UAAM,QAAQ,UAAU;AAAA,MACpB,MAAM;AAAA,IACV,CAAC;AAAA,EACL;AAAA,EACA,WAAW,cAAY;AACnB,QAAI,mBAAmB,GAAG;AACtB,gBAAU,QAAQ;AAAA,IACtB,OACK;AACD,mBAAa,UAAU,EAAE;AAAA,IAC7B;AAAA,EACJ;AAAA,EACA,aAAa,cAAY;AACrB,uBAAmB,KAAK,YAAY,QAAQ;AAAA,EAChD;AACJ;",
  "names": []
}
